<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: graphics/camera.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: graphics/camera.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { glMatrix, mat4, vec3 } from "gl-matrix";

class Camera {

    /**
     * 
     * @type {vec3}
     */
    position = vec3.fromValues(0, 0, -1);

    /**
     * 
     * @type {vec3}
     */
    direction = vec3.fromValues(0, 0, -1);

    /**
     * 
     * @type {vec3}
     */
    up = vec3.fromValues(0, 1, 0);

    /**
     * 
     * @type {mat4}
     */
    projectionMatrix = mat4.create();

    /**
     * 
     * @type {mat4}
     */
    viewMatrix = mat4.create();

    /**
     * 
     * @type {mat4}
     */
    cameraMatrix = mat4.create();

    /**
     * 
     * @type {number}
     */
    viewportWidth = 0;

    /**
     * 
     * @type {number}
     */
    viewportHeight = 0;

    /**
     * 
     * @type {number}
     */
    near = 1;

    /**
     * 
     * @type {number}
     */
    far = 100;

    /**
     * 
     * @type {vec3}
     */
    tpmVec = vec3.create();

    constructor() {}

    lookAt(...args) {
        if(args.length == 1) {

            vec3.copy(this.tpmVec, args[0]);

        } else if(args.length == 3) {

            vec3.set(this.tpmVec, ...args);

        } else {

            throw new Error("required 1 or 3 arguments");

        }

        vec3.sub(this.tpmVec, this.tpmVec, this.position);
        vec3.normalize(this.tpmVec, this.tpmVec);

        const dot = vec3.dot(this.tpmVec, this.up);

        if(glMatrix.equals(dot, 1)) {

            vec3.negate(this.up, this.direction);

        } else if(glMatrix.equals(dot, -1)) {

            vec3.copy(this.up, this.direction);

        }

        vec3.copy(this.direction, this.tpmVec);

        vec3.cross(this.up, this.getRight(), this.direction);
        vec3.normalize(this.up, this.up);
    }

    getRight() {
        return vec3.cross(this.tpmVec, this.direction, this.up);
    }

    updateConstants(constants) {
        mat4.lookAt(this.viewMatrix, this.position, vec3.add(this.tpmVec, this.position, this.direction), this.up);
        mat4.invert(this.cameraMatrix, this.viewMatrix);

        constants["projectionMatrix"] = this.projectionMatrix;
        constants["viewMatrix"] = this.viewMatrix;
        constants["cameraMatrix"] = this.cameraMatrix;
        constants["cameraPosition"] = this.position;
    }
}

export {
    Camera
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Game.html">Game</a></li><li><a href="Gol.html">Gol</a></li><li><a href="Screen.html">Screen</a></li><li><a href="Shader.html">Shader</a></li><li><a href="Texture.html">Texture</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Sat Jun 25 2022 20:57:13 GMT+0200 (Středoevropský letní čas)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
